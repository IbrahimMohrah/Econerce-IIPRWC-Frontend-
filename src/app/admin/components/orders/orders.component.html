<div class="container">
    <div class="page-header">
        <div class="header-content">
            <div class="header-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M16 3h5v5"/>
                    <path d="M8 3H3v5"/>
                    <path d="M12 22v-8"/>
                    <path d="m21 3-8.5 8.5"/>
                    <path d="M3 3l8.5 8.5"/>
                    <circle cx="12" cy="14" r="8"/>
                </svg>
            </div>
            <div class="header-text">
                <h1>Orders Management</h1>
                <p>Track and manage customer orders</p>
            </div>
        </div>
    </div>

    <mat-card>
        <mat-card-content>
            <div class="table-wrapper">
                <table mat-table [dataSource]="orders" class="mat-elevation-z8 orders-table">

                    <ng-container matColumnDef="trackingId">
                        <th mat-header-cell *matHeaderCellDef>
                            <div class="header-with-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/>
                                </svg>
                                Tracking ID
                            </div>
                        </th>
                        <td mat-cell *matCellDef="let order">
                            <span class="tracking-badge">{{ order.trackingId }}</span>
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="userName">
                        <th mat-header-cell *matHeaderCellDef>
                            <div class="header-with-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/>
                                    <circle cx="12" cy="7" r="4"/>
                                </svg>
                                User Name
                            </div>
                        </th>
                        <td mat-cell *matCellDef="let order">
                            <div class="user-cell">
                                <div class="user-avatar">{{ order.userName?.charAt(0)?.toUpperCase() || 'U' }}</div>
                                <span>{{ order.userName }}</span>
                            </div>
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="amount">
                        <th mat-header-cell *matHeaderCellDef>
                            <div class="header-with-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="12" y1="1" x2="12" y2="23"/>
                                    <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
                                </svg>
                                Amount
                            </div>
                        </th>
                        <td mat-cell *matCellDef="let order" class="bold-cell">
                            <span class="amount-badge">${{ order.amount }}</span>
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="description">
                        <th mat-header-cell *matHeaderCellDef>
                            <div class="header-with-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                </svg>
                                Description
                            </div>
                        </th>
                        <td mat-cell *matCellDef="let order">{{ order.orderDescription }}</td>
                    </ng-container>

                    <ng-container matColumnDef="address">
                        <th mat-header-cell *matHeaderCellDef>
                            <div class="header-with-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
                                    <circle cx="12" cy="10" r="3"/>
                                </svg>
                                Address
                            </div>
                        </th>
                        <td mat-cell *matCellDef="let order">{{ order.address }}</td>
                    </ng-container>

                    <ng-container matColumnDef="date">
                        <th mat-header-cell *matHeaderCellDef>
                            <div class="header-with-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                                    <line x1="16" y1="2" x2="16" y2="6"/>
                                    <line x1="8" y1="2" x2="8" y2="6"/>
                                    <line x1="3" y1="10" x2="21" y2="10"/>
                                </svg>
                                Date
                            </div>
                        </th>
                        <td mat-cell *matCellDef="let order">{{ order.date | date: 'dd/MM/yyyy' }}</td>
                    </ng-container>

                    <ng-container matColumnDef="status">
                        <th mat-header-cell *matHeaderCellDef>
                            <div class="header-with-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                                    <polyline points="22 4 12 14.01 9 11.01"/>
                                </svg>
                                Status
                            </div>
                        </th>
                        <td mat-cell *matCellDef="let order">
                            <span class="status-badge" [ngClass]="{
                                'status-placed': order.orderStatus === 'Placed',
                                'status-shipped': order.orderStatus === 'Shipped', 
                                'status-delivered': order.orderStatus === 'Delivered'
                            }">
                                {{ order.orderStatus }}
                            </span>
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="action">
                        <th mat-header-cell *matHeaderCellDef>
                            <div class="header-with-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="1"/>
                                    <circle cx="12" cy="5" r="1"/>
                                    <circle cx="12" cy="19" r="1"/>
                                </svg>
                                Action
                            </div>
                        </th>
                        <td mat-cell *matCellDef="let order">
                            <button mat-raised-button color="primary" [matMenuTriggerFor]="menu" class="action-btn">
                                Action
                            </button>
                            <mat-menu #menu="matMenu">
                                <button mat-menu-item (click)="changeOrderStatus(order.id, 'Shipped')">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2"/>
                                        <circle cx="17" cy="18" r="2"/>
                                        <circle cx="7" cy="18" r="2"/>
                                    </svg>
                                    Shipped
                                </button>
                                <button mat-menu-item (click)="changeOrderStatus(order.id, 'Delivered')">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="20 6 9 17 4 12"/>
                                    </svg>
                                    Delivered
                                </button>
                            </mat-menu>
                        </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="['trackingId', 'userName', 'amount', 'description', 'address', 'date','status','action']"></tr>

                    <tr mat-row *matRowDef="let row; columns: ['trackingId', 'userName', 'amount', 'description', 'address', 'date','status','action']"></tr>

                </table>
            </div>
        </mat-card-content>
    </mat-card>
</div>